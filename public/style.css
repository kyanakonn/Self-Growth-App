body{
 margin:0;
 background:#f8fafc;
 color:#0f172a;
 font-family:system-ui
}

.screen{display:none;padding:16px}
.screen.active{display:block}

button{
 width:100%;
 padding:14px;
 margin-top:8px;
 border:none;
 border-radius:14px;
 background:#fff;
 box-shadow:0 4px 12px rgba(0,0,0,.12)
}

.card{
 background:#fff;
 border-radius:18px;
 padding:16px;
 margin-top:14px;
 box-shadow:0 6px 20px rgba(0,0,0,.1)
}

.exp-bar{
 height:16px;
 background:#e5e7eb;
 border-radius:10px;
 overflow:hidden
}

.exp-fill{
 height:100%;
 background:#0f172a;
 width:0%;
 transition:width .8s
}

.timer-full{
 position:fixed;
 inset:0;
 background:#fff;
 display:none;
 align-items:center;
 justify-content:center;
 flex-direction:column;
 font-size:64px;
 z-index:999
}

.timer-btns{
 display:flex;
 gap:12px;
 margin-top:20px;
 width:80%
}

.hidden{display:none}

/* タイマー画面は非表示時にクリックを奪わない */
.timer-full{
  pointer-events: none;
}

/* 表示中（active）のときだけ操作可能にする */
.screen.active.timer-full{
  display: flex;          /* 既存 display:none を上書き */
  pointer-events: auto;
}

/* ===== 追加：画面切替のクリック制御（最終修正） ===== */

/* すべての screen は操作不可にする */
.screen{
  pointer-events: none;
}

/* 表示中（active）の画面だけ操作可能 */
.screen.active{
  pointer-events: auto;
}

/* ===== 最終修正：active画面だけを最前面にする ===== */

/* すべての screen を背面に */
.screen{
  position: relative;
  z-index: 0;
}

/* 表示中の画面だけ最前面 */
.screen.active{
  z-index: 10;
}

/* timer は active のときだけ最前面 */
.screen.active.timer-full{
  z-index: 20;
}

